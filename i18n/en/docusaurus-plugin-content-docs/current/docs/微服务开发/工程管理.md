---
slug: '/docs/micro-service/structure'
title: 'Project Management'
sidebar_position: 1
hide_title: true
keywords: [GoFrame, GoFrame Framework, Microservices, Project Directory, Protocol Files, Interface Files, Development Tools, Service Startup, Interface Implementation, Data Validation]
description: "The standard project directory structure for microservice development using the GoFrame framework, including the management of protocol files and interface files. It describes in detail how to use the GoFrame framework's development tools to generate protobuf files corresponding to data table structures, and how to compile protocol files to generate interfaces and controllers. It also explains the specific steps for service startup and interface implementation, and introduces the usage of tag injection and data validation plugins."
---

## Basic Introduction

The project directory for microservice development adopts a unified framework structure. For details, please refer to the section: [Project Directory DesignðŸ”¥](../Framework Design/Engineering Development Design/Project Directory Design.md)

Here, we use the project [https://github.com/gogf/gf-demo-grpc](https://github.com/gogf/gf-demo-grpc) as an example to illustrate.

## Protocol Files

![](/markdown/016fd519878bf775e744f9f2d1c46cb8.png) Protocol files are defined under the `manifest/protobuf` directory. The path rule for protocol files in the directory: `module name/version number/xxx.proto`. The version number is managed in a format similar to `v1/v2`, facilitating interface compatibility maintenance.

Among them, `protobuf` files involving data table structures are generated by development tools of the framework and stored in the `manifest/pbentity` directory.

## Interface Files

Interface documents compiled from `proto` protocol files are stored in the unified `api` directory.

## Development Tools

### Generate Data Table Structure

We can use the `gf gen pbentity / make pbentity` command to automatically generate the corresponding `protobuf` protocol files based on the data table structure in the database. For command introduction, please refer to the section: [Data Table PB-gen pbentity](../Development Tools/Code Generation-gen/Data Table PB-gen pbentity.md)

### Compile `proto` Protocol Files

The framework provides the `gf gen pb / make pb` command to automatically compile `proto` protocol files and generate the corresponding interface files and controller files.

## Service Startup

Service startup control is still maintained through the `cmd` directory, for example: [https://github.com/gogf/gf-demo-grpc/blob/main/internal/cmd/cmd.go](https://github.com/gogf/gf-demo-grpc/blob/main/internal/cmd/cmd.go)

## Interface Implementation and Registration

The controller is used for the specific implementation of interfaces defined in `proto`, and the controller can be automatically generated by commands, and the `Register` method is automatically generated for registering the specific implementation to the service object.

Registration method:

![](/markdown/50e4eb739f08fcc6479bb32c9e9a6ade.png)

Startup registration:

![](/markdown/5cda3b08b1346f392c4b717b71fa2710.png)

## Tag Injection and Data Validation

### Automatic Tag Injection

When using the `gf gen pb/make pb` command for `proto` file compilation, automatic tag injection is supported. You only need to write it in the form of comments in the `proto` file, and these comments will automatically be embedded as `dc` tags in the struct properties. If the comment rule is in the form of `xxx:yyy`, the `xxx` tag will be automatically generated. For example:

![](/markdown/96c4eaa4ff55045ac0d224539a903a2b.png)

![](/markdown/620e319d848d5b91b93d86c33862f19a.png)

It is important to note that in the `GRPC` protocol, since both input and output are in struct form, the default value feature like in `HTTP` services cannot be achieved.

### Data Validation Plugin

The data validation plugin will automatically validate requests based on the rules set in the tags, and it needs to be manually introduced on the server side in the form of an interceptor:

![](/markdown/a38675f4912ab10e2680814f0dae2e0f.png)